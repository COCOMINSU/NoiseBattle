# PRD (제품 요구사항 명세서)

> **Project:** 소음과 전쟁

## Project Overview
'소음과 전쟁'은 층간소음 문제로 고통받는 사람들을 위한 모바일 솔루션입니다. 사용자는 본인 인증 기반의 신뢰도 있는 커뮤니티에서 객관적인 데이터(소음 기록)와 함께 경험을 공유하고, '아파트 인증' 시스템과 **인증글 필터링 기능**을 통해 소속 아파트의 층간소음 문제에 대한 공론화를 유도합니다. 나아가 **'소음지도'와 '랭킹' 기능을 통해 지역별 소음 문제 현황을 시각적으로 제공하여 사회적 자정작용 및 제도적 해결책 마련의 기반이 되는 것을 목표로 합니다.**

## Core Functionalities (핵심 기능 명세)

### 1. 사용자 인증 및 관리 (Onboarding & Profile)
- **1.1. 회원가입 및 로그인**:
  - **본인 인증(실명 인증):** 휴대폰 번호 등을 이용한 본인 인증 절차를 거쳐야 가입이 완료된다.
  - **소셜 로그인:** 본인 인증 후, 카카오/구글 등 소셜 계정을 연동하여 로그인을 간소화한다.
- **1.2. 프로필 설정**: 모든 게시판에서 공통으로 사용할 **자유로운 닉네임**과 프로필 이미지를 설정한다.
- **1.3. 아파트 인증 (선택 사항)**:
  - 사용자는 거주 중인 아파트 정보를 입력하고 인증을 **선택적으로** 요청할 수 있다.
  - **인증 시, 아파트명과 함께 주소(`시/도`, `시/군/구`, `읍/면/동`) 데이터가 함께 저장된다.**
  - 인증 방식: 관리비 고지서 등 거주 증명 서류 업로드.
  - 관리자 검토 후 승인되면 프로필에 'OO아파트 인증' 배지가 부여된다.

### 2. 층간소음 측정 (Noise Measurement)
- **2.1. 소음 측정**: 버튼을 누르면 스마트폰 마이크를 통해 주변 소음을 측정한다.
- **2.2. 시각적 피드백**: 데시벨(dB) 수치와 함께 직관적인 단계로 소음 수준을 시각화하여 보여준다.
- **2.3. 기록 저장**: 측정된 소음의 최대/평균 값, 시간, 녹음 파일(30초 내외)을 임시 저장하여 게시글에 첨부할 수 있도록 한다.

### 3. 커뮤니티 (Community)
- **3.1. 소음 후기 게시판**:
  - **목적:** 층간소음 피해 경험담, 해결 후기 등 소음 관련 정보를 공유하는 메인 게시판.
  - **주요 기능:**
      - **아파트 인증 사용자의 게시글에는 주소(`예: 서울 서초구`)가 함께 노출된다.**
      - '아파트 인증글 필터링' 기능 제공.
      - 게시글 작성, 댓글, 공감(추천).
  - **카테고리**: `스트레스/하소연`, `질문/상담`, `해결 후기/노하우`, `정보 공유`, `법적 대응/절차`

- **3.2. 우리 아파트 모임**:
  - **목적:** 같은 아파트 주민들 간의 소통을 위한 폐쇄적인 공간.
  - **카테고리**: `층간소음 공론화`, `주민 대응 모임`, `우리 아파트 꿀팁`, `일상/잡담`

- **3.3. 자유 게시판**:
  - **목적:** 층간소음을 제외한 모든 주제에 대해 자유롭게 이야기하는 공간.
  - **카테고리**: `유머/짤방`, `맛집/여행`, `취미/관심사`, `사는 이야기`, `아무거나 질문`

- **3.4. 주간 베스트**:
    - **목적**: 한 주 동안 가장 많은 공감(추천)을 받은 인기 글을 모아보는 명예의 전당.
    - **콘텐츠**: `소음 후기 게시판`의 글 중에서 지난 7일간 받은 추천 수를 기준으로 자동 선정.
    - **특징**: 글쓰기 불가, 읽기 전용. 매주 월요일 00시에 자동으로 업데이트.

- **3.5. 월간 베스트**:
    - **목적**: 한 달 동안 가장 큰 영향력을 가졌던 글들을 모아보는 공간.
    - **콘텐츠**: `소음 후기 게시판`의 글 중에서 지난 한 달간 받은 추천 수를 기준으로 자동 선정.
    - **특징**: 글쓰기 불가, 읽기 전용. 매월 1일 00시에 자동으로 업데이트.


### 4. 소음지도 및 랭킹 (Noise Map & Ranking)
- **4.1. 소음지도 페이지**:
  - **UI/UX**: 대한민국 전도가 표시되며, 확대/축소가 가능한 지도 인터페이스 (Google Maps, Naver Maps API 활용).
  - **데이터 시각화**: 지도 위 `읍/면/동` 단위로 소음 심각도에 따라 색상(초록색 < 노란색 < 주황색 < 빨간색)이 표시된다.
  - **소음 지수**: 색상과 마커의 기준이 되는 '소음 지수'는 **일정 기간 내 등록된 [소음 후기 게시글 수], [게시글의 공감(추천) 수]** 등을 종합하여 산출한다.

- **4.2. 소음지역 랭킹 페이지**:
  - **UI/UX**: `지역별 랭킹`과 `아파트별 랭킹`을 선택해서 볼 수 있는 탭(Tab) 구조.
  - **랭킹 기준**: '소음 지수'가 높은 순서대로 Top 100 등의 랭킹을 보여준다.

### 5. 알림 (Notification)
- **5.1. 내 활동 알림**: 내 글에 댓글이나 공감이 달렸을 때 푸시 알림을 받는다.
- **5.2. 주요 공지 알림**: 앱의 중요 업데이트나 이벤트 발생 시 푸시 알림을 받는다.

### 6. Doc (필요 기술 및 자료)
- **플랫폼 및 공통**
  - **`Flutter SDK`**: Android, iOS 크로스플랫폼 개발 프레임워크.
  - **`Firebase`**: 백엔드 서비스 (인증, DB, 스토리지, 서버리스 함수, 푸시 알림).
  - **`Git / GitHub`**: 코드 버전 관리 및 협업.

- **사용자 인증**
  - **`본인 인증 서비스 API`**: 휴대폰 본인 인증을 위한 외부 서비스 연동 (예: KG모빌리언스, 다날).
  - **`Firebase Authentication`**: 소셜 로그인 및 사용자 계정 관리.

- **핵심 기능 모듈**
  - **`소음 측정 라이브러리`**: 'noise.md' 파일 참고. 스마트폰 마이크 입력을 처리하기 위한 라이브러리 (예: `noise_meter`).
  - **`권한 관리 라이브러리`**: 마이크, 저장소 등 민감 권한을 처리하기 위한 라이브러리 (예: `permission_handler`).
  - **`OCR API`**: 'aptocr.md' 파일 참고. 아파트 인증 서류의 글자를 인식하기 위한 AI 서비스 (예: Google Cloud Vision AI).
  - **`지도 API`**: '소음지도' 기능을 구현하기 위한 지도 서비스 (예: `Maps_flutter`, Naver Maps API).
  - **`지오코딩 API`**: 주소를 위도/경도 좌표로 변환하기 위한 API (지도 API에 포함된 경우가 많음).

- **법률 및 정책**
  - **`개인정보처리방침 및 이용약관`**: 본인인증 정보, 위치 정보, 사용자 게시물 등 데이터 처리에 대한 법적 고지.
  - **`법률 자문`**: 명예훼손, 개인정보보호법 등 서비스 운영 중 발생할 수 있는 법적 리스크에 대한 전문가 검토.